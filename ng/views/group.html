<!--link rel="stylesheet" type="text/css"
  href="../../components/group_styles.css" /-->

<div class="container">
  <h2 class="title">Groups</h2>

  <ul class="nav nav-tabs nav-justified">
    <li class="active">
      <a data-toggle="tab" data-target="#group_list">Join Groups</a>
    </li>
    <li>
      <a data-toggle="tab" data-target="#group_create">Create Groups</a>
    </li>
  </ul>

  <div class="tab-content">
    <div id="group_list" class="tab-pane fade in active">  
      <div ng-repeat="group in groups" class="jumbotron">
        <div class="row">
          <h1 class="col-md-8">{{ group.groupName }}</h1>
          <h1 class="col-md-4">Events</h1>
        </div>

        <div class="row">
          <div class="col-md-7">
            <p>{{ group.description }}</p>
            <p>
              <a class="btn btn-primary btn-lg" href="#" role="button">
                Join Group</a>
            </p>
          </div>

          <div class="col-md-5">
            <table class="table table-condensed">
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Time Start</th>
              </tr>
              <tr ng-repeat="event in group.events">
                <td>{{ event.eventName }}</td>
                <td>{{ event.email }}</td>
                <td>{{ event.timeStart }}</td>
              </tr>
            </table>
          </div>
        </div>
      </div><!-- jumbotron -->
    </div><!-- tabpane -->

    <div id="group_create" class="tab-pane fade"> 
      <form class="form-signin" ng-submit="ctrl.createGroup()"
        name="createGroup" role="form">

        <div class="form-group" ng-class="{
          'has-error': createGroup.name.$dirty &&
          (createGroup.name.$error.required
          || createGroup.name.$invalid)}">
          <label for="inputName" class="sr-only">Group Name</label>
          <input type="name" name="name" data-ng-model="ctrl.name"
            id="inputName" class="form-control"
            placeholder="Group Name" required autofocus>
          <span ng-show="createGroup.name.$dirty &&
            (createGroup.name.$error.required
            || createGroup.name.$invalid)"
            class="help-block">Valid Group Name is Required</span>
         </div>

        <div class="form-group" ng-class="{
          'has-error': createGroup.description.$dirty
          && createGroup.description.$error.required}">
          <label for="inputDescription" class="sr-only">
            Group Description</label>
          <textarea type="description" name="description" rows="5"
            data-ng-model="ctrl.description" id="textareaDescription"
            class="form-control" placeholder="Group Description" required>
            </textarea>
          <span ng-show="createGroup.description.$dirty
            && createGroup.description.$error.required"
            class="help-block">Group Description is Required</span>
        </div>

        <button class="btn btn-lg btn-block btn-blog" type="submit"
          ng-disabled="createGroup.$invalid || ctrl.dataLoading">
          Create</button>

      </form>
    </div>
  </div>
</div>
